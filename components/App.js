var MultiTimeSeriesChart = require('./MultiTimeSeriesChart');
var TimeSeriesDifferenceChart = require('./TimeSeriesDifferenceChart');
var RadarChart = require('./RadarChart');
var React = require('react');

var sampleData = [{
  series: [{ values: [[0, 0.1], [1, 0.15], [2, 0.1], [3, 0.16], [4, 0.11], [5, 0.2], [6, 0.2], [7, 0.21], [8, 0.22], [9, 0.2], [10, 0.16], [11, 0.14], [12, 0.11], [13, 0.1], [14, 0.09], [15, 0.07], [16, 0.09], [17, 0.06], [18, 0.04]],
             color: 'red'
           },
           { values:[[0, 0.03], [1, 0.07], [2, 0.08], [3, 0.09], [4, 0.1], [5, 0.11], [6, 0.1], [7, 0.1], [8, 0.07], [9, 0.05], [10, 0.04], [11, 0.03], [12, 0.02], [13, 0.01], [14, 0.0]],
             color: 'blue'
           }],
  domains: {x: [0, 20], y: [0, 0.3]},
  maxDomainY: 1,
  warpingPath: [[18, 14], [17, 13], [16, 12], [15, 11], [14, 10], [13, 9], [12, 8], [11, 7], [10, 6], [9, 5], [8, 4], [7, 3], [6, 2], [5, 1], [4, 1], [3, 1], [2, 1], [1, 1], [0, 0]]
},
{
  series: [{ values: [[0, 0.1], [1, 0.15], [2, 0.1], [3, 0.16], [4, 0.11], [5, 0.2], [6, 0.2], [7, 0.21], [8, 0.22], [9, 0.2], [10, 0.16], [11, 0.14], [12, 0.11], [13, 0.1], [14, 0.09], [15, 0.07], [16, 0.09], [17, 0.06], [18, 0.04]],
             color: 'red'
           },
           { values:[[0, 0.08], [1, 0.12], [2, 0.13], [3, 0.14], [4, 0.15], [5, 0.16], [6, 0.15], [7, 0.15], [8, 0.12], [9, 0.1], [10, 0.09], [11, 0.08], [12, 0.07], [13, 0.06], [14, 0.05]],
             color: 'blue'
           }],
  domains: {x: [0, 20], y: [0, 0.3]},
  maxDomainY: 1,
  warpingPath: [[18, 14], [17, 13], [16, 12], [15, 11], [14, 10], [13, 9], [12, 8], [11, 7], [10, 6], [9, 5], [8, 4], [7, 3], [6, 2], [5, 1], [4, 1], [3, 1], [2, 1], [1, 1], [0, 0]]
},
{
  series: [{ values: [[0, 0.1], [1, 0.15], [2, 0.1], [3, 0.16], [4, 0.11], [5, 0.2], [6, 0.2], [7, 0.21], [8, 0.22], [9, 0.2], [10, 0.16], [11, 0.14], [12, 0.11], [13, 0.1], [14, 0.09], [15, 0.07], [16, 0.09], [17, 0.06], [18, 0.04]],
             color: 'red'
           },
           { values:[[0, 0.11], [1, 0.15], [2, 0.16], [3, 0.17], [4, 0.18], [5, 0.19], [6, 0.18], [7, 0.18], [8, 0.15], [9, 0.13], [10, 0.12], [11, 0.11], [12, 0.1], [13, 0.09], [14, 0.08]],
             color: 'blue'
           }],
  domains: {x: [0, 20], y: [0, 0.3]},
  maxDomainY: 1,
  warpingPath: [[18, 14], [17, 13], [16, 12], [15, 11], [14, 10], [13, 9], [12, 8], [11, 7], [10, 6], [9, 5], [8, 4], [7, 3], [6, 2], [5, 1], [4, 1], [3, 1], [2, 1], [1, 1], [0, 0]]
}
,
{
  series: [{ values: [[0, 100], [1, 150], [2, 100], [3, 160], [4, 110], [5, 200], [6, 200], [7, 210], [8, 220], [9, 200], [10, 160], [11, 140]] },
           { values: [[0, 30], [1, 60], [2, 30], [3, 90], [4, 30], [5, 70], [6, 80], [7, 90], [8, 100], [9, 110], [10, 100], [11, 100], [12, 70], [13, 50], [14, 40], [15, 30], [16, 20], [17, 10], [18, 0]]}],
  domains: {x: [0, 20], y: [0, 500]},
  maxDomainY: 500,
  warpingPath: [[11, 18], [10, 17], [9, 16], [8, 15], [7, 14], [6, 13], [5, 12], [4, 11], [3, 10], [2, 9], [1, 8], [1, 7], [1, 6], [1, 5], [1, 4], [1, 3], [1, 2], [1, 1], [0, 0]]
},
{
  series: [{ values: [[0, 1], [1, 2] ,[2, 3], [3, 4]], color: 'red'}],
  domains: {x: [0, 5], y: [0, 6]},
  maxDomainY: 10
},
{
  series: [{ values: [[1, 4],
 [2, 1.5247],
 [3, 1.5381],
 [4, 1.4108],
 [5, 1.2444],
 [6, 1.0395],
 [7, 0.86868],
 [8, 0.66426],
 [9, 0.4898],
 [10, 0.26855],
 [11, 0.07249],
 [12, -0.046396],
 [13, 0.028986],
 [14, 0.16621],
 [15, 0.26063],
 [16, 0.25635],
 [17, 0.12302],
 [18, -0.058387],
 [19, -0.23025],
 [20, -0.45361],
 [21, -0.64598],
 [22, -0.91893],
 [23, -1.1353],
 [24, -1.2579],
 [25, -1.033],
 [26, -0.77625],
 [27, -0.59452],
 [28, -0.45119],
 [29, -0.35481],
 [30, -0.36339],
 [31, -0.40563],
 [32, -0.45764],
 [33, -0.57984],
 [34, -0.68114],
 [35, -0.88563],
 [36, -0.99364],
 [37, -1.1521],
 [38, -1.301],
 [39, -1.4473],
 [40, -1.5196],
 [41, -1.4955],
 [42, -1.3026],
 [43, -1.0764],
 [44, -0.87706],
 [45, -0.63906],
 [46, -0.50845],
 [47, -0.44555],
 [48, -0.41994],
 [49, -0.3843],
 [50, -0.37174],
 [51, -0.31894],
 [52, -0.30538],
 [53, -0.2223],
 [54, 0.0038988],
 [55, 0.18202],
 [56, 0.38438],
 [57, 0.55537],
 [58, 0.76608],
 [59, 0.95181],
 [60, 1.1743],
 [61, 1.3646],
 [62, 1.5593],
 [63, 1.6453],
 [64, 1.88],
 [65, 2.0711],
 [66, 2.3014],
 [67, 2.4272],
 [68, 2.2055],
 [69, 2.0126],
 [70, 1.7771],
 [71, 1.5884],
 [72, 1.3841],
 [73, 1.2135],
 [74, 1.0103],
 [75, 0.85093],
 [76, 0.64944],
 [77, 0.47711],
 [78, 0.27111],
 [79, 0.10492],
 [80, -0.05768],
 [81, -0.29773],
 [82, -0.50023],
 [83, -0.66685],
 [84, -0.76382],
 [85, -0.84653],
 [86, -0.91893],
 [87, -0.99664],
 [88, -1.0872],
 [89, -1.2493],
 [90, -1.4955],
 [91, -1.6914],
 [92, -1.894],
 [93, -1.8456],
 [94, -1.7275],
 [95, -1.5379],
 [96, -1.3894],
 [97, -1.2165],
 [98, -1.0682],
 [99, -0.89614],
 [100, -0.72304],
 [101, -0.52633],
 [102, -0.372],
 [103, -0.22503],
 [104, -0.12119],
 [105, -0.0090656],
 [106, 0.076109],
 [107, 0.14966],
 [108, 0.043627],
 [109, -0.11303],
 [110, -0.31919],
 [111, -0.55965],
 [112, -0.50845],
 [113, -0.32433],
 [114, -0.085353],
 [115, 0.10155],
 [116, 0.32367],
 [117, 0.49522],
 [118, 0.68724],
 [119, 0.83292],
 [120, 0.85771],
 [121, 0.76065],
 [122, 0.52103],
 [123, 0.36218],
 [124, 0.56149],
 [125, 0.74167],
 [126, 0.95521],
 [127, 1.0968],
 [128, 1.3253],
 [129, 1.4843]], color: 'red'}],
  domains: {x: [0, 130], y: [-5, 5]}
}];

var App = React.createClass({
  getInitialState: function() {
    return {
      data: sampleData[5],
      current: 5,
      show: true
    };
  },

  render: function() {
    var multiTimeSeriesChart = this.state.show ? <MultiTimeSeriesChart
                                                  width={500}
                                                  height={250}
                                                  margins={{left: 30, right: 20, top: 10, bottom: 20}}
                                                  data={this.state.data}
                                                /> : null;
    var timeSeriesDifferenceChart = this.state.show ? <TimeSeriesDifferenceChart
                                                        width={100}
                                                        height={250}
                                                        margins={{left: 30, right: 20, top: 10, bottom: 20}}
                                                        strokeWidth={2}
                                                        color={'blue'}
                                                        data={this.state.data}
                                                      /> : null;
    var radarChart = this.state.show && <RadarChart
                                          width={500}
                                          height={300}
                                          data={this.state.data}
                                          margins={{left: 30, right: 20, top: 30, bottom: 30}}
                                        />

    return (
      <div className="App">
        {multiTimeSeriesChart}
        {timeSeriesDifferenceChart}
        {radarChart}
        <button onClick={this._updateChart}>Update</button>
        <button onClick={this._removeChart}>Remove</button>
        <button onClick={this._showChart}>Show</button>
      </div>
    );
  },

  _updateChart: function() {
    var current = (this.state.current + 1) % sampleData.length;
    this.setState({data: sampleData[current], 
                   current: current});
  },

  _removeChart: function() {
    this.setState({show: false});
  },

  _showChart: function() {
    this.setState({show: true});
  }

});

module.exports = App;